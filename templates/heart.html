<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Disease Risk Assessment - Smart Healthcare Hub</title>
    <link rel="stylesheet" href="static/App.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <div class="scroll-indicator" id="scrollIndicator"></div>

    <header>
        <div class="logo-title-container">
            <h1 id="health_monitor">
                <img src="static/Images/logo.png" id="nav_logo" alt="Smart Healthcare Hub Logo">
                <span class="title-text">SMART HEALTHCARE HUB</span>
            </h1>
        </div>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/features">Features</a></li>
                <li><a href="/contact">Contact</a></li>
                <li><a href="/chatbot">Chatbot</a></li>
                <li><a href="/about">About</a></li>
            </ul>
            <div id="Login1">
                <div id="Login"><a href="/login">Login</a></div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="diabetes-hero">
        <div class="hero-content">
            <h1>AI-Powered Heart Disease Risk Assessment</h1>
            <p>Using advanced machine learning algorithms to predict heart disease risk based on clinical indicators. Early detection of cardiac conditions can be life-saving and help in preventive care.</p>
            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">96%</span>
                    <span class="stat-label">Accuracy Rate</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">12+</span>
                    <span class="stat-label">Key Indicators</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">1M+</span>
                    <span class="stat-label">Assessments</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Information Cards -->
    <section class="info-cards">
        <div class="info-card">
            <i class="fas fa-heart-pulse"></i>
            <h3>Early Detection</h3>
            <p>Identify potential heart risks before symptoms become severe</p>
        </div>
        <div class="info-card">
            <i class="fas fa-chart-line"></i>
            <h3>Clinical Precision</h3>
            <p>Analysis based on comprehensive cardiac indicators</p>
        </div>
        <div class="info-card">
            <i class="fas fa-stethoscope"></i>
            <h3>Expert System</h3>
            <p>ML-powered analysis with clinical accuracy</p>
        </div>
    </section>

    <section id="form-container" class="prediction-section">
        <div class="form-container">
            <h2>Heart Health Assessment</h2>
            <p>This advanced tool evaluates multiple clinical parameters to assess your heart health status. 
               Early detection can significantly improve treatment outcomes and quality of life.</p>
        <form id="heartForm" action="/heart" method="post">
            <div class="form-grid">
                <div class="form-group">
                    <label><i class="fas fa-user"></i> Age</label>
                    <input type="number" step="1" name="age" placeholder="Enter age in years" required>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-venus-mars"></i> Gender</label>
                    <select name="sex" required>
                        <option value="" disabled selected>Select gender</option>
                        <option value="1">Male</option>
                        <option value="0">Female</option>
                    </select>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-heart-broken"></i> Chest Pain Type</label>
                    <select name="cp" required>
                        <option value="" disabled selected>Select type</option>
                        <option value="0">Typical Angina</option>
                        <option value="1">Atypical Angina</option>
                        <option value="2">Non-anginal Pain</option>
                        <option value="3">Asymptomatic</option>
                    </select>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-heartbeat"></i> Blood Pressure (mm Hg)</label>
                    <input type="number" name="trestbps" placeholder="Enter resting blood pressure" required>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-chart-line"></i> Cholesterol (mg/dl)</label>
                    <input type="number" name="cholesterol" placeholder="Enter serum cholesterol" required>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-tint"></i> Fasting Blood Sugar > 120</label>
                    <select name="fasting_blood_sugar" required>
                        <option value="" disabled selected>Select option</option>
                        <option value="1">Yes</option>
                        <option value="0">No</option>
                    </select>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-wave-square"></i> Resting ECG</label>
                    <select name="resting_ECG" required>
                        <option value="" disabled selected>Select ECG result</option>
                        <option value="0">Normal</option>
                        <option value="1">ST-T Wave Abnormality</option>
                        <option value="2">Left Ventricular Hypertrophy</option>
                    </select>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-running"></i> Max Heart Rate</label>
                    <input type="number" name="max_heart_rate" placeholder="Enter maximum heart rate" required>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-tired"></i> Exercise Induced Angina</label>
                    <select name="exercise_angina" required>
                        <option value="" disabled selected>Select option</option>
                        <option value="1">Yes</option>
                        <option value="0">No</option>
                    </select>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-chart-bar"></i> ST Depression (Oldpeak)</label>
                    <input type="number" name="oldpeak" step="0.1" placeholder="Enter ST depression value" required>
                </div>

                <div class="form-group">
                    <label><i class="fas fa-angle-double-up"></i> ST Slope</label>
                    <select name="slope" required>
                        <option value="" disabled selected>Select slope type</option>
                        <option value="0">Upsloping</option>
                        <option value="1">Flat</option>
                        <option value="2">Downsloping</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Major Vessels (ca)</label>
                    <input type="number" name="major_vessels" placeholder="Enter Major Vessels" required></div>
                <div class="form-group">
                    <label>Thalassemia (thal)</label>
                    <select name="thalassemia" required>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                </div>
            </div>
               <button type="submit" class="submit-button"><i class="fas fa-notes-medical"></i>Predict Heart Result</button>
        </form>

        <div id="result" class="result-box">
            <div class="result-content">
                <div class="default-text">
                    🔬 Result will be displayed here
                </div>
            </div>
        </div>
    </section>

    <!-- Modern Footer -->
    <footer class="modern-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>About Us</h4>
                <p>Smart Healthcare Hub combines AI technology with healthcare expertise to provide you with the best possible health monitoring and diagnostic solutions.</p>
            </div>
            
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="/features">Our Features</a></li>
                    <li><a href="/about">About Us</a></li>
                    <li><a href="/contact">Contact</a></li>
                    <li><a href="/privacy">Privacy Policy</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Contact Us</h4>
                <ul class="contact-info">
                    <li><i class="fas fa-map-marker-alt"></i> 123 Healthcare Ave, Medical District</li>
                    <li><i class="fas fa-phone"></i> +1 (555) 123-4567</li>
                    <li><i class="fas fa-envelope"></i> support@healthmonitor.com</li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>Follow Us</h4>
                <div class="social-links">
                    <a href="http://linkedin.com/in/manthanjadav" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="http://github.com/Manthan2110" aria-label="GitHub"><i class="fab fa-github"></i></a>
                    <a href="https://manthan2110.github.io/Portfolio/" aria-label="Portfolio"><i class="fas fa-globe"></i></a>
                    <a href="mailto:manthanjadav746@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
                </div>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 Smart Healthcare Hub. All rights reserved.</p>
            <div class="footer-links">
                <a href="/terms">Terms of Service</a>
                <a href="/privacy">Privacy Policy</a>
                <a href="/cookies">Cookie Policy</a>
            </div>
        </div>
    </footer>


    <script>
        const form = document.getElementById('heartForm');
        const resultBox = document.getElementById('result');

        form.addEventListener('submit', async function(event) {
            event.preventDefault();

            const formData = new FormData(form);
            const data = {
                age: parseFloat(formData.get("age")),
                sex: parseInt(formData.get("sex")),
                cp: parseInt(formData.get("cp")),
                trestbps: parseFloat(formData.get("trestbps")), // Fixed: was "blood_pressure"
                chol: parseFloat(formData.get("cholesterol")),
                fbs: parseInt(formData.get("fasting_blood_sugar")),
                restecg: parseInt(formData.get("resting_ECG")),
                thalach: parseFloat(formData.get("max_heart_rate")),
                exang: parseInt(formData.get("exercise_angina")),
                oldpeak: parseFloat(formData.get("oldpeak")),
                slope: parseInt(formData.get("slope")),
                ca: parseInt(formData.get("major_vessels")),
                thal: parseInt(formData.get("thalassemia"))
            };

            // Show loading state
            showLoadingState();

            try {
                const response = await fetch("/heart", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.json();

                if (result.prediction !== undefined) {
                    showResult(result.prediction, result.recommendation);
                } else {
                    showError("Could not get a prediction.");
                }

            } catch (error) {
                console.error("Prediction failed:", error);
                showError("Something went wrong. Please try again.");
            }
        });

        function showLoadingState() {
            resultBox.className = 'loading';
            resultBox.innerHTML = `
                <div class="result-content">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">💓 Analyzing heart data...</div>
                </div>
            `;
        }

        function showResult(prediction, recommendation) {
            const isPositive = prediction === 1;
            
            // Add appropriate class and animation
            resultBox.className = isPositive ? 'positive fade-in' : 'negative fade-in';
            
            resultBox.innerHTML = `
                <div class="result-content">
                    <div class="prediction-status">
                        <span class="status-icon">${isPositive ? '💔' : '❤️'}</span>
                        <strong>${isPositive ? "Heart Disease Detected" : "No Heart Disease Detected"}</strong>
                    </div>
                    <div class="recommendation">
                        <div class="recommendation-title">🏥 Medical Recommendation:</div>
                        <div>${recommendation}</div>
                    </div>
                </div>
            `;
        }

        function showError(message) {
            resultBox.className = 'fade-in';
            resultBox.style.background = 'linear-gradient(135deg, #e67e22 0%, #d35400 100%)';
            resultBox.innerHTML = `
                <div class="result-content">
                    <div class="prediction-status">
                        <span class="status-icon">⚠️</span>
                        <strong>Error</strong>
                    </div>
                    <div class="recommendation">
                        <div>${message}</div>
                    </div>
                </div>
            `;
        }
    </script>


</body>
</html>
